## 比特币的匿名性如何？

比特币的 `匿名性` 不是绝对的，看似交易都是通过链上的地址进行的，但是在链上的交易一般都伴随着链下的实体交易，如果有人可以监控到你链下的实体交易，那么通过与链上的行为进行对比，就有很大概率将链上的地址与你本人关联上，从而破坏匿名性。

一个人可以生成很多 `地址账户` ，但是这些 `地址账户` 是有可能被关联到一起的。

资金的转入转出操作，是破坏匿名性的一个很重要的场景。

另一个场景，就是上面提到的，链上的交易伴随着现实世界的交易时，通过将两者关联，可以破坏匿名性。

综上所述，比特币的匿名性没有想象中的那么好。

再说回来，比特币的匿名性有多好，取决于你不希望向谁暴露身份。

如果是一个普通人，希望向其周围认识的朋友、邻居保持匿名性，这个是比较容易时间的，现有的比特币机制就可以很好的实现匿名性。

但是，如果是从事非法活动，那么从国家层面追查这个地址所属的人的话，就是比较容易的。

## 如何提高匿名性？

比特币运行在应用层（application layer），其底层网络层（network layer）是 P2P ，所以需要从这两个层面来思考如何提高匿名性。

### 网络层 network layer

网络层的问题是 ip 地址与真实世界里的设备有很强的关联性，而设备与使用的人又有关联性，所以如何更好的隐藏 ip 地址，就可以在网络这一层提高匿名性。

在这一层隐藏 ip 地址的方式有很多，比较普遍的方式是发送者不要直接将消息发送给接收者，而是将请求在多个服务器之间跳转多次，这样就可以有效的隐藏发送者的 ip 地址。

这让我想起了翻墙的基本原理，上面提到的是隐藏发送者的 ip ，而翻墙是隐藏接收者的 ip 。

### 应用层 application layer

#### coin mixing

做法是将各种不同人的币混到一起，这样产生的效果就是将多个人的身份混在了一起，让其他人无法确定币与这些人的关系是怎样的，从而达到匿名的效果。

现在线上会有一些提供 coin mixing 服务的网站，但是，可能会有捐款跑路的风险，所以要慎重考虑是否使用。coin mixing 的网站：[https://coinjoin.io/en](https://coinjoin.io/en)

另外，有时不必明确做 coin mixing ，因为某些应用天然具有 coin mixing 的特性，比如，某些在线钱包是很多人都会将币存入进去，然后再取出时，可能就不是之前存入的币了。

再就是，交易所也天然具有 coin mixing 的特性，因为你在交易所买卖虚拟币时，手中持有的虚拟币会一直变化。

### 不可篡改性与匿名性

区块链一个的特性是不可篡改性（虽然，也是相对不可篡改，没有绝对无法篡改的系统），这是重要的一个特性，但有时不可篡改性会破坏匿名性。

在区块链上的数据是不可篡改的，一旦某次交易暴露了一个人，那么这次交易的地址以及与这个地址关联的其他地址都有可能暴露。

## 零知识证明

`零知识证明` 是指一方（证明者）向另一方（验证者）证明一个陈述是正确的，而无需透露除该陈述是正确之外的任何信息。

在区块链中，一个 `零知识证明` 的例子是：我要证明一个地址属于我，我（证明者）只需要使用私钥进行签名，然后将公钥以及签名交给验证者验证即可。

### 同态隐藏

- 如果x,y不同,那么它们的加密函数值E(x)和E(y)也不相同。（如果 E(x) 和 E(y) 相同，那么 x 和 y也相同）
- 给定E(x)的值,很难反推出x的值。（不可逆的）
- 给定E(x)和E(y)的值,我们可以很容易地计算出某些关于x,y的加密函数值。
  一 同态加法：通过E(x)和E(y)计算出E(x+y)的值
  一 同态乘法：通过E(x)和E(y)计算出E(xy)的值
  一 扩展到多项式

### 零币和零钞

- 零币和零钞在协议层就融合了匿名化处理,其匿名属性来自密码学保证。
- 零币(zerocoin )系统中存在基础币和零币,通过基础币和零币的来回转换,消除旧地址和新地址的关联性,其原理类似于混币服务。
- 零钞(zerocash)系统使用zk-SNARKs协议,不依赖一种基础币,区块链中只记录交易的存在性和矿工用来验证系统正常运行所需要关键属性的证明。区块链上既不显示交易地址也不显示交易金额,所有交易通过零知识验证的方式进行。

在区块链中，零币和零钞的使用并不广泛，因为其本身没有解决一个匿名性相关的问题，就是当与现实世界发生交互时，还是与其他虚拟币一样，会破坏匿名性。
