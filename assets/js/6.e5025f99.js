(window.webpackJsonp=window.webpackJsonp||[]).push([[6],{425:function(t,r,a){t.exports=a.p+"assets/img/input.d309c271.png"},426:function(t,r,a){t.exports=a.p+"assets/img/script.35829587.png"},427:function(t,r,a){t.exports=a.p+"assets/img/script_invalid.3ed2735e.png"},469:function(t,r,a){"use strict";a.r(r);var e=a(65),s=Object(e.a)({},(function(){var t=this,r=t.$createElement,e=t._self._c||r;return e("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[e("h1",{attrs:{id:"utxo"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#utxo"}},[t._v("#")]),t._v(" UTXO")]),t._v(" "),e("p",[t._v("Unspent Transaction Output，未花费交易输出。")]),t._v(" "),e("p",[t._v("是当前整个区块链中所有未花费的交易的输出，未花费的 BTC 的数量肯定就是当前已挖出的所有比特币的数量。这个数据结构主要是为了确定当前拥有 BTC 的地址信息，用于快速判断交易的合法性。一般情况下，全节点会在内存中缓存完整的 UTXO ，用于快速验证交易。")]),t._v(" "),e("p",[t._v("一个交易输入的 BTC 数量要等于该交易输出的 BTC 数量。")]),t._v(" "),e("h1",{attrs:{id:"激励机制"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#激励机制"}},[t._v("#")]),t._v(" 激励机制")]),t._v(" "),e("p",[t._v("第一个激励机制是出块奖励，也就是铸币交易，第二个是交易费的奖励。")]),t._v(" "),e("h1",{attrs:{id:"出块奖励减半"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#出块奖励减半"}},[t._v("#")]),t._v(" 出块奖励减半")]),t._v(" "),e("p",[t._v("每产生 21 万个区块，就把出块奖励减半一次，每个区块大约 10 分钟产生一个，由此可知，大约每 4 年减半一次。")]),t._v(" "),e("h1",{attrs:{id:"挖矿难度"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#挖矿难度"}},[t._v("#")]),t._v(" 挖矿难度")]),t._v(" "),e("p",[t._v("每隔 2016 个区块，就要调整一下难度，从而保持出块时间在 10 分钟左右。")]),t._v(" "),e("h1",{attrs:{id:"挖矿"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#挖矿"}},[t._v("#")]),t._v(" 挖矿")]),t._v(" "),e("p",[t._v("正常情况下，挖矿就是不断调整 block header 中的 "),e("code",[t._v("nonce")]),t._v(" 字段，但是由于现在挖矿难度的增加，单纯修改 "),e("code",[t._v("nonce")]),t._v(" 字段的值可能已经无法完成工作量证明，此时，可以修改交易列表中的 "),e("code",[t._v("铸币交易")]),t._v(" 的 "),e("code",[t._v("script")]),t._v(" 字段。")]),t._v(" "),e("p",[e("img",{attrs:{src:a(425),alt:"Merkle proof"}})]),t._v(" "),e("p",[t._v("而在原始的交易数据中，就可以看到对应的就是 "),e("code",[t._v("script")]),t._v(" 字段：")]),t._v(" "),e("p",[e("img",{attrs:{src:a(426),alt:"Merkle proof"}})]),t._v(" "),e("p",[t._v("由于这是一个铸币交易，所以 "),e("code",[t._v("inputs")]),t._v(" 中的 "),e("code",[t._v("script")]),t._v(" 脚本不会执行，可以是非法的，由下图可以证明：")]),t._v(" "),e("p",[e("img",{attrs:{src:a(427),alt:"Merkle proof"}})]),t._v(" "),e("p",[t._v("切换到 "),e("em",[t._v("ASM")]),t._v(" 以后，显示的是无效的 "),e("em",[t._v("ASM")]),t._v(" 。")]),t._v(" "),e("h1",{attrs:{id:"输入和输出脚本"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#输入和输出脚本"}},[t._v("#")]),t._v(" 输入和输出脚本")]),t._v(" "),e("p",[t._v("在比特币中，输入和输出都是由脚本来指定的，比特币中验证交易的合法性，就是通过 "),e("code",[t._v("Input Scripts")]),t._v(" 和 "),e("code",[t._v("Output Scripts")]),t._v(" 配对执行的，注意这里的 "),e("code",[t._v("Output Scripts")]),t._v(" 指的是为本次交易提供币的那个交易中的 "),e("code",[t._v("Output Scripts")]),t._v(" ，而不是指本次交易的 "),e("code",[t._v("Output Scripts")]),t._v(" 。 "),e("code",[t._v("Input Scripts")]),t._v(" 是指本次交易的 "),e("code",[t._v("Input Scripts")]),t._v(" 。")]),t._v(" "),e("h1",{attrs:{id:"计算-nonce"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#计算-nonce"}},[t._v("#")]),t._v(" 计算 nonce")]),t._v(" "),e("h2",{attrs:{id:"bernoulli-trial"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bernoulli-trial"}},[t._v("#")]),t._v(" Bernoulli trial")]),t._v(" "),e("p",[t._v("一个有二元结果的随机实验（a random experiment with binary outcome）")]),t._v(" "),e("h2",{attrs:{id:"bernoulli-process"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#bernoulli-process"}},[t._v("#")]),t._v(" Bernoulli process")]),t._v(" "),e("p",[t._v("一系列独立的伯努利试验（a sequence of independent Bernoulli trials）")]),t._v(" "),e("p",[t._v("性质是无记忆性，也就是前后两次 nonce 的计算没有相关性，是相互独立的。")]),t._v(" "),e("h2",{attrs:{id:"exponential-distribution-指数分布"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#exponential-distribution-指数分布"}},[t._v("#")]),t._v(" exponential distribution 指数分布")]),t._v(" "),e("p",[t._v("比特币的出块时间服从指数分布。视频 38:00 左右。")]),t._v(" "),e("h1",{attrs:{id:"比特币总量"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#比特币总量"}},[t._v("#")]),t._v(" 比特币总量")]),t._v(" "),e("p",[t._v("2100 万")]),t._v(" "),e("p",[t._v("比特币是通过挖矿保证安全性的")]),t._v(" "),e("h1",{attrs:{id:"区块"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#区块"}},[t._v("#")]),t._v(" 区块")]),t._v(" "),e("p",[t._v("每个区块的大小不能超过 1M 。")]),t._v(" "),e("h1",{attrs:{id:"zero-confirmation-零确认"}},[e("a",{staticClass:"header-anchor",attrs:{href:"#zero-confirmation-零确认"}},[t._v("#")]),t._v(" zero confirmation 零确认")]),t._v(" "),e("p",[t._v("这个是指无需等待交易打包进某个区块，只需确认交易的合法性，就可以认为交易成功。这里举一个电商的例子，假设 A 在一个购物网站用比特币买了一件实物商品，那么商家只需要验证这个交易的合法性后，即可认为交易完成，因为实物商品天然具有延迟的特性，一般在下单以后，过几个小时甚至几天，才会发货，等发货的时候再确认一下这个交易即可。")])])}),[],!1,null,null,null);r.default=s.exports}}]);